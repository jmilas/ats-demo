<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add Agent to Slack — Interactive Demo</title>
<style>
  /* ── Reset & Globals ── */
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  :root {
    --slack-aubergine: #4A154B;
    --slack-aubergine-light: #611f69;
    --slack-green: #2EB67D;
    --slack-blue: #36C5F0;
    --slack-red: #E01E5A;
    --slack-yellow: #ECB22E;
    --slack-sidebar-bg: #3F0E40;
    --slack-sidebar-hover: #532653;
    --slack-sidebar-active: #1164A3;
    --slack-msg-bg: #FFFFFF;
    --slack-text: #1D1C1D;
    --slack-muted: #616061;
    --bg: #F8F8F8;
    --card-bg: #FFFFFF;
    --border: #E0E0E0;
    --radius: 12px;
    --shadow: 0 2px 12px rgba(0,0,0,0.08);
    --shadow-lg: 0 8px 32px rgba(0,0,0,0.12);
    --transition: 0.25s ease;
    /* Partner brand colors */
    --replit-orange: #F26522;
    --vercel-black: #000000;
    --lovable-pink: #E11D74;
    --openai-green: #10A37F;
    --openai-dark: #202123;
    --openai-sidebar: #171717;
    --openai-surface: #2D2D30;
  }
  html { font-size: 16px; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background: var(--bg);
    color: var(--slack-text);
    min-height: 100vh;
    overflow-x: hidden;
  }
  button { cursor: pointer; font-family: inherit; }
  input, select, textarea { font-family: inherit; }

  /* ── Screen management ── */
  .screen { display: none; min-height: 100vh; animation: fadeIn 0.35s ease; }
  .screen.active { display: flex; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

  /* ── Top bar (persistent) ── */
  .topbar {
    position: fixed; bottom: 0; left: 0; right: 0; z-index: 200;
    background: var(--slack-aubergine);
    color: #fff;
    display: flex; align-items: center; justify-content: space-between;
    padding: 10px 24px;
    font-size: 13px;
    box-shadow: 0 -2px 8px rgba(0,0,0,0.15);
    transition: transform 0.3s ease;
  }
  .topbar.minimized { transform: translateY(100%); pointer-events: none; }
  .topbar-left { display: flex; align-items: center; gap: 12px; }
  .topbar-logo { font-weight: 800; font-size: 16px; letter-spacing: -0.5px; }
  .topbar-logo span { opacity: 0.7; font-weight: 400; font-size: 13px; margin-left: 6px; }
  .topbar-phase {
    display: flex; gap: 4px; background: rgba(255,255,255,0.1); border-radius: 8px; padding: 3px;
  }
  .topbar-phase button {
    border: none; background: transparent; color: rgba(255,255,255,0.6);
    padding: 5px 14px; border-radius: 6px; font-size: 12px; font-weight: 600;
    transition: var(--transition);
  }
  .topbar-phase button.active {
    background: rgba(255,255,255,0.2); color: #fff;
  }
  .topbar-phase button:hover:not(.active) { color: rgba(255,255,255,0.9); }
  .topbar-restart {
    border: 1px solid rgba(255,255,255,0.25); background: transparent; color: #fff;
    padding: 6px 16px; border-radius: 6px; font-size: 12px; font-weight: 600;
    transition: var(--transition);
  }
  .topbar-restart:hover { background: rgba(255,255,255,0.15); }
  .topbar-minimize {
    border: none; background: transparent; color: rgba(255,255,255,0.6);
    font-size: 18px; line-height: 1; padding: 4px; cursor: pointer;
    transition: var(--transition); margin-left: 4px;
  }
  .topbar-minimize:hover { color: #fff; }
  .topbar-right { display: flex; align-items: center; gap: 12px; }
  /* Floating expand button (visible when bar is minimized) */
  .topbar-expand {
    position: fixed; bottom: 16px; right: 16px; z-index: 200;
    width: 44px; height: 44px; border-radius: 50%;
    background: var(--slack-aubergine); color: #fff;
    border: none; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 2px 12px rgba(0,0,0,0.25);
    font-size: 18px; transition: transform 0.3s ease, opacity 0.3s ease;
    opacity: 0; pointer-events: none; transform: scale(0.8);
  }
  .topbar-expand.visible { opacity: 1; pointer-events: auto; transform: scale(1); }
  .topbar-expand:hover { transform: scale(1.08); box-shadow: 0 4px 16px rgba(0,0,0,0.35); }
  .step-indicator {
    display: flex; align-items: center; gap: 6px; font-size: 12px; opacity: 0.8;
  }
  .step-dot {
    width: 8px; height: 8px; border-radius: 50%;
    background: rgba(255,255,255,0.3); transition: var(--transition);
  }
  .step-dot.completed { background: var(--slack-green); }
  .step-dot.current { background: var(--slack-blue); box-shadow: 0 0 6px var(--slack-blue); }

  /* ── Screen 1: Partner Selection ── */
  #screen-select {
    flex-direction: column; align-items: center; justify-content: center;
    padding-bottom: 60px; gap: 40px;
  }
  .select-header { text-align: center; }
  .select-header h1 {
    font-size: 36px; font-weight: 800; letter-spacing: -1px;
    background: linear-gradient(135deg, var(--slack-aubergine), var(--slack-blue));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  }
  .select-header p { color: var(--slack-muted); font-size: 18px; margin-top: 12px; max-width: 500px; }
  .partner-grid { display: flex; gap: 24px; flex-wrap: wrap; justify-content: center; }
  .partner-card {
    width: 260px; background: var(--card-bg); border: 2px solid var(--border);
    border-radius: var(--radius); padding: 32px 24px; text-align: center;
    transition: var(--transition); cursor: pointer;
    display: flex; flex-direction: column; align-items: center; gap: 16px;
  }
  .partner-card:hover { border-color: var(--slack-aubergine); transform: translateY(-4px); box-shadow: var(--shadow-lg); }
  .partner-icon {
    width: 64px; height: 64px; border-radius: 16px;
    display: flex; align-items: center; justify-content: center;
    font-size: 28px; font-weight: 800; color: #fff;
  }
  .partner-card h3 { font-size: 20px; font-weight: 700; }
  .partner-card p { font-size: 13px; color: var(--slack-muted); line-height: 1.5; }
  .partner-card .tag {
    font-size: 11px; font-weight: 600; padding: 3px 10px; border-radius: 12px;
    background: #F0E8F1; color: var(--slack-aubergine);
  }
  .replit-bg { background: var(--replit-orange); }
  .vercel-bg { background: var(--vercel-black); }
  .lovable-bg { background: var(--lovable-pink); }
  .openai-bg { background: var(--openai-dark); }

  /* ── Shared: Add to Slack button ── */
  .add-to-slack-btn {
    display: inline-flex; align-items: center; gap: 10px;
    background: var(--slack-aubergine); color: #fff;
    border: none; border-radius: 8px; padding: 14px 28px;
    font-size: 16px; font-weight: 700; transition: var(--transition);
    margin-top: 12px; align-self: flex-start;
    box-shadow: 0 4px 16px rgba(74,21,75,0.3);
  }
  .add-to-slack-btn:hover { background: var(--slack-aubergine-light); transform: translateY(-1px); box-shadow: 0 6px 20px rgba(74,21,75,0.4); }
  .add-to-slack-btn svg { width: 22px; height: 22px; }

  /* ═══════════════════════════════════════════
     REPLIT Agent Builder
     3-panel IDE: icon rail + file tree | agent chat | preview
     Dark navy (#0E1525), orange (#F26522) accent
     ═══════════════════════════════════════════ */
  #screen-replit-builder { flex-direction: column; padding-bottom: 52px; }
  .rep-chrome { display: flex; flex-direction: column; flex: 1; background: #0E1525; color: #E0E0E0; font-family: 'IBM Plex Sans', -apple-system, sans-serif; }
  .rep-topbar { display: flex; align-items: center; padding: 0 16px; height: 44px; background: #0B1120; border-bottom: 1px solid #1C2840; gap: 12px; }
  .rep-topbar-logo { display: flex; align-items: center; gap: 8px; font-weight: 700; font-size: 14px; color: #fff; }
  .rep-topbar-logo svg { width: 20px; height: 20px; }
  .rep-topbar-project { font-size: 13px; color: rgba(255,255,255,0.5); margin-left: 4px; }
  .rep-topbar-project span { color: rgba(255,255,255,0.3); margin: 0 6px; }
  .rep-topbar-actions { margin-left: auto; display: flex; gap: 8px; align-items: center; }
  .rep-run-btn {
    background: var(--replit-orange); color: #fff; border: none; border-radius: 8px;
    padding: 6px 20px; font-size: 13px; font-weight: 700; display: flex; align-items: center; gap: 6px;
    box-shadow: 0 2px 8px rgba(242,101,34,0.3); transition: var(--transition);
  }
  .rep-run-btn:hover { filter: brightness(1.1); transform: translateY(-1px); }
  .rep-run-btn svg { width: 14px; height: 14px; }
  .rep-body { display: flex; flex: 1; overflow: hidden; }

  /* Icon rail */
  .rep-rail { width: 44px; background: #0B1120; border-right: 1px solid #1C2840; display: flex; flex-direction: column; align-items: center; padding: 8px 0; gap: 4px; }
  .rep-rail-icon {
    width: 32px; height: 32px; border-radius: 6px; display: flex; align-items: center; justify-content: center;
    font-size: 16px; color: rgba(255,255,255,0.4); cursor: default; transition: var(--transition);
  }
  .rep-rail-icon.active { background: rgba(255,255,255,0.08); color: #fff; }

  /* File tree sidebar */
  .rep-sidebar { width: 220px; background: #0E1525; border-right: 1px solid #1C2840; padding: 8px 0; overflow-y: auto; }
  .rep-sidebar-title { font-size: 11px; font-weight: 700; color: rgba(255,255,255,0.4); text-transform: uppercase; letter-spacing: 0.5px; padding: 8px 14px; }
  .rep-file { display: flex; align-items: center; gap: 8px; padding: 4px 14px; font-size: 13px; color: rgba(255,255,255,0.6); cursor: default; }
  .rep-file.active { background: rgba(255,255,255,0.06); color: #fff; }
  .rep-file-icon { font-size: 14px; width: 18px; text-align: center; }
  .rep-file-indent { padding-left: 30px; }

  /* Main agent config area */
  .rep-main { flex: 1; display: flex; flex-direction: column; background: #141C2E; overflow: hidden; }
  .rep-tabs { display: flex; background: #0E1525; border-bottom: 1px solid #1C2840; padding: 0 8px; }
  .rep-tab {
    padding: 10px 16px; font-size: 12px; color: rgba(255,255,255,0.5); border: none; background: transparent;
    border-bottom: 2px solid transparent; transition: var(--transition);
  }
  .rep-tab.active { color: #fff; border-bottom-color: var(--replit-orange); background: #141C2E; }
  .rep-agent-config { flex: 1; padding: 24px; overflow-y: auto; display: flex; flex-direction: column; gap: 18px; }
  .rep-field { display: flex; flex-direction: column; gap: 5px; }
  .rep-field label { font-size: 12px; font-weight: 600; color: rgba(255,255,255,0.5); }
  .rep-field input, .rep-field textarea, .rep-field select {
    background: #0E1525; border: 1px solid #1C2840; border-radius: 6px;
    padding: 9px 12px; color: #E0E0E0; font-size: 13px; outline: none; transition: var(--transition);
  }
  .rep-field input:focus, .rep-field textarea:focus { border-color: var(--replit-orange); }
  .rep-field textarea { min-height: 80px; resize: vertical; }
  .rep-field select option { background: #0E1525; }
  .rep-caps { display: flex; flex-wrap: wrap; gap: 6px; }
  .rep-cap {
    padding: 5px 12px; border-radius: 4px; font-size: 12px; font-weight: 600;
    border: 1px solid #1C2840; color: rgba(255,255,255,0.5); background: transparent; cursor: pointer; transition: var(--transition);
  }
  .rep-cap.selected { border-color: var(--replit-orange); color: var(--replit-orange); background: rgba(242,101,34,0.08); }

  /* Console / output panel */
  .rep-console { height: 120px; background: #0B1120; border-top: 1px solid #1C2840; padding: 8px 14px; font-family: 'Fira Code', monospace; font-size: 12px; overflow-y: auto; }
  .rep-console-header { font-size: 11px; font-weight: 700; color: rgba(255,255,255,0.4); text-transform: uppercase; margin-bottom: 6px; display: flex; align-items: center; gap: 6px; }
  .rep-console-line { color: rgba(255,255,255,0.5); line-height: 1.6; }
  .rep-console-line.success { color: #2EB67D; }
  .rep-console-line .prompt { color: var(--replit-orange); }

  /* Preview pane */
  .rep-preview { width: 340px; background: #0E1525; border-left: 1px solid #1C2840; display: flex; flex-direction: column; }
  .rep-preview-bar { display: flex; align-items: center; gap: 8px; padding: 8px 12px; background: #0B1120; border-bottom: 1px solid #1C2840; }
  .rep-preview-dots { display: flex; gap: 4px; }
  .rep-preview-dots span { width: 10px; height: 10px; border-radius: 50%; background: #1C2840; }
  .rep-preview-url { flex: 1; background: #141C2E; border: 1px solid #1C2840; border-radius: 4px; padding: 4px 10px; font-size: 11px; color: rgba(255,255,255,0.4); }
  .rep-preview-content { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; padding: 24px; }
  .rep-preview-avatar { width: 52px; height: 52px; border-radius: 12px; background: linear-gradient(135deg, var(--slack-blue), var(--slack-green)); display: flex; align-items: center; justify-content: center; font-size: 22px; color: #fff; }
  .rep-preview-name { font-size: 16px; font-weight: 700; color: #fff; }
  .rep-preview-desc { font-size: 12px; color: rgba(255,255,255,0.4); text-align: center; max-width: 260px; line-height: 1.5; }
  .rep-preview-status { font-size: 11px; color: #2EB67D; display: flex; align-items: center; gap: 4px; }
  .rep-preview-status::before { content: ''; width: 6px; height: 6px; border-radius: 50%; background: #2EB67D; }

  /* ═══════════════════════════════════════════
     VERCEL v0 Agent Builder
     Chat-based: prompt → generated agent
     Near-black (#0A0A0A), monochrome, minimal
     ═══════════════════════════════════════════ */
  #screen-vercel-builder { flex-direction: column; padding-bottom: 52px; }
  .v0-chrome { display: flex; flex-direction: column; flex: 1; background: #0A0A0A; color: #EDEDED; }
  .v0-topbar { display: flex; align-items: center; padding: 0 20px; height: 48px; border-bottom: 1px solid #1A1A1A; }
  .v0-topbar-logo { font-size: 18px; font-weight: 800; color: #fff; letter-spacing: -0.5px; }
  .v0-topbar-nav { display: flex; gap: 4px; margin-left: 28px; }
  .v0-topbar-link {
    font-size: 13px; color: rgba(255,255,255,0.4); padding: 6px 12px; border-radius: 6px;
    border: none; background: transparent; transition: var(--transition);
  }
  .v0-topbar-link.active { color: #fff; }
  .v0-topbar-actions { margin-left: auto; display: flex; gap: 8px; align-items: center; }
  .v0-topbar-btn {
    padding: 6px 14px; border-radius: 6px; font-size: 12px; font-weight: 600;
    background: #fff; color: #000; border: none; transition: var(--transition);
  }
  .v0-topbar-btn:hover { background: #E0E0E0; }
  .v0-topbar-btn.ghost { background: transparent; color: rgba(255,255,255,0.5); border: 1px solid #333; }
  .v0-body { display: flex; flex: 1; overflow: hidden; }

  /* Chat panel */
  .v0-chat { width: 480px; display: flex; flex-direction: column; border-right: 1px solid #1A1A1A; }
  .v0-chat-messages { flex: 1; padding: 24px 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 20px; }
  .v0-msg { display: flex; gap: 12px; }
  .v0-msg-avatar {
    width: 28px; height: 28px; border-radius: 50%; flex-shrink: 0;
    display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700;
  }
  .v0-msg-avatar.user { background: #333; color: #fff; }
  .v0-msg-avatar.ai { background: #fff; color: #000; }
  .v0-msg-content { flex: 1; }
  .v0-msg-name { font-size: 13px; font-weight: 600; margin-bottom: 4px; }
  .v0-msg-text { font-size: 14px; line-height: 1.6; color: rgba(255,255,255,0.75); }
  .v0-msg-text code { background: #1A1A1A; padding: 1px 5px; border-radius: 3px; font-size: 12px; font-family: 'Geist Mono', monospace; }
  .v0-msg-artifact {
    margin-top: 12px; background: #111; border: 1px solid #222; border-radius: 10px; overflow: hidden;
  }
  .v0-msg-artifact-header {
    padding: 10px 14px; border-bottom: 1px solid #222; font-size: 12px; font-weight: 600;
    display: flex; align-items: center; gap: 8px; color: rgba(255,255,255,0.5);
  }
  .v0-msg-artifact-body { padding: 16px; font-family: 'Geist Mono', monospace; font-size: 12px; color: rgba(255,255,255,0.5); line-height: 1.7; }
  .v0-msg-artifact-body .kw { color: #C678DD; }
  .v0-msg-artifact-body .str { color: #98C379; }
  .v0-msg-artifact-body .cm { color: #5C6370; }
  .v0-chat-input-area { padding: 16px 20px; border-top: 1px solid #1A1A1A; }
  .v0-chat-input {
    width: 100%; background: #111; border: 1px solid #222; border-radius: 10px;
    padding: 12px 16px; color: #EDEDED; font-size: 14px; outline: none; resize: none; min-height: 48px;
    transition: var(--transition);
  }
  .v0-chat-input:focus { border-color: #444; }
  .v0-chat-input::placeholder { color: rgba(255,255,255,0.25); }

  /* Preview panel */
  .v0-preview { flex: 1; display: flex; flex-direction: column; background: #0A0A0A; }
  .v0-preview-bar { display: flex; align-items: center; padding: 10px 16px; border-bottom: 1px solid #1A1A1A; gap: 10px; }
  .v0-preview-tab {
    font-size: 12px; font-weight: 600; color: rgba(255,255,255,0.4);
    padding: 4px 10px; border-radius: 4px; border: none; background: transparent;
  }
  .v0-preview-tab.active { color: #fff; background: #1A1A1A; }
  .v0-preview-content { flex: 1; display: flex; align-items: center; justify-content: center; padding: 32px; }
  .v0-agent-card {
    background: #111; border: 1px solid #222; border-radius: 16px; padding: 36px;
    width: 360px; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 16px;
  }
  .v0-agent-avatar { width: 64px; height: 64px; border-radius: 16px; background: linear-gradient(135deg, var(--slack-blue), var(--slack-green)); display: flex; align-items: center; justify-content: center; font-size: 26px; color: #fff; }
  .v0-agent-name { font-size: 20px; font-weight: 700; color: #fff; }
  .v0-agent-desc { font-size: 13px; color: rgba(255,255,255,0.45); line-height: 1.5; }
  .v0-agent-badges { display: flex; gap: 6px; flex-wrap: wrap; justify-content: center; }
  .v0-agent-badge { font-size: 11px; padding: 4px 10px; border-radius: 20px; background: #1A1A1A; color: rgba(255,255,255,0.5); border: 1px solid #222; }
  .v0-agent-deploy { margin-top: 8px; width: 100%; }
  .v0-agent-deploy .add-to-slack-btn { width: 100%; justify-content: center; align-self: stretch; }

  /* ═══════════════════════════════════════════
     LOVABLE Agent Builder
     Chat + live preview, light theme
     White (#FAFAFA), pink-purple gradient accent
     ═══════════════════════════════════════════ */
  #screen-lovable-builder { flex-direction: column; padding-bottom: 52px; }
  .lov-chrome { display: flex; flex-direction: column; flex: 1; background: #FAFAFA; color: #1A1A2E; }
  .lov-topbar { display: flex; align-items: center; padding: 0 20px; height: 48px; background: #fff; border-bottom: 1px solid #E8E8EC; }
  .lov-topbar-logo { display: flex; align-items: center; gap: 8px; font-weight: 700; font-size: 15px; color: #1A1A2E; }
  .lov-heart {
    width: 28px; height: 28px; border-radius: 7px;
    background: linear-gradient(135deg, #EC4899, #D946EF);
    display: flex; align-items: center; justify-content: center; font-size: 15px; color: #fff;
  }
  .lov-topbar-project { font-size: 13px; color: #888; margin-left: 16px; display: flex; align-items: center; gap: 6px; }
  .lov-topbar-project span { color: #CCC; }
  .lov-topbar-actions { margin-left: auto; display: flex; gap: 8px; align-items: center; }
  .lov-topbar-btn {
    padding: 6px 16px; border-radius: 8px; font-size: 12px; font-weight: 600;
    border: 1px solid #E0E0E0; background: #fff; color: #333; transition: var(--transition);
  }
  .lov-topbar-btn:hover { background: #F5F5F5; }
  .lov-topbar-btn.primary {
    background: linear-gradient(135deg, #EC4899, #D946EF); color: #fff; border: none;
    box-shadow: 0 2px 8px rgba(236,72,153,0.25);
  }
  .lov-body { display: flex; flex: 1; overflow: hidden; }

  /* Chat panel */
  .lov-chat { width: 440px; display: flex; flex-direction: column; background: #fff; border-right: 1px solid #E8E8EC; }
  .lov-chat-messages { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 16px; }
  .lov-msg { display: flex; gap: 10px; }
  .lov-msg-avatar {
    width: 30px; height: 30px; border-radius: 50%; flex-shrink: 0;
    display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700;
  }
  .lov-msg-avatar.user { background: #E8E8EC; color: #555; }
  .lov-msg-avatar.ai { background: linear-gradient(135deg, #EC4899, #D946EF); color: #fff; font-size: 14px; }
  .lov-msg-content { flex: 1; }
  .lov-msg-name { font-size: 13px; font-weight: 600; color: #333; margin-bottom: 3px; }
  .lov-msg-text { font-size: 14px; line-height: 1.6; color: #444; }
  .lov-msg-files { margin-top: 8px; display: flex; flex-direction: column; gap: 3px; }
  .lov-msg-file { font-size: 12px; color: #888; display: flex; align-items: center; gap: 6px; }
  .lov-msg-file-icon { color: #D946EF; }
  .lov-chat-input-area { padding: 16px 20px; border-top: 1px solid #E8E8EC; }
  .lov-chat-input {
    width: 100%; background: #F5F5F7; border: 1px solid #E0E0E4; border-radius: 10px;
    padding: 12px 16px; color: #1A1A2E; font-size: 14px; outline: none;
  }
  .lov-chat-input:focus { border-color: #D946EF; }
  .lov-chat-input::placeholder { color: #AAA; }

  /* Preview panel */
  .lov-preview { flex: 1; display: flex; flex-direction: column; background: #F5F5F7; }
  .lov-preview-bar { display: flex; align-items: center; padding: 10px 16px; background: #fff; border-bottom: 1px solid #E8E8EC; gap: 10px; }
  .lov-preview-tab {
    font-size: 12px; font-weight: 600; color: #999; padding: 4px 10px; border-radius: 6px;
    border: none; background: transparent;
  }
  .lov-preview-tab.active { color: #333; background: #F0F0F0; }
  .lov-preview-url { flex: 1; text-align: right; font-size: 11px; color: #BBB; }
  .lov-preview-content { flex: 1; display: flex; align-items: center; justify-content: center; padding: 32px; }
  .lov-agent-card {
    background: #fff; border: 1px solid #E8E8EC; border-radius: 16px; padding: 36px;
    width: 380px; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 14px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.06);
  }
  .lov-agent-avatar { width: 64px; height: 64px; border-radius: 16px; background: linear-gradient(135deg, var(--slack-blue), var(--slack-green)); display: flex; align-items: center; justify-content: center; font-size: 26px; color: #fff; }
  .lov-agent-name { font-size: 20px; font-weight: 700; color: #1A1A2E; }
  .lov-agent-desc { font-size: 13px; color: #888; line-height: 1.5; }
  .lov-agent-badges { display: flex; gap: 6px; flex-wrap: wrap; justify-content: center; }
  .lov-agent-badge { font-size: 11px; padding: 4px 10px; border-radius: 20px; background: #F5F0FF; color: #9333EA; border: 1px solid #E9D5FF; }
  .lov-agent-deploy { margin-top: 8px; width: 100%; }
  .lov-agent-deploy .add-to-slack-btn { width: 100%; justify-content: center; align-self: stretch; }

  /* ── OpenAI Agent Builder (custom screen) ── */
  #screen-openai-builder {
    flex-direction: column; padding-bottom: 52px;
  }
  .oai-chrome { display: flex; flex-direction: column; flex: 1; background: var(--openai-dark); color: #ECECF1; }
  .oai-topnav {
    display: flex; align-items: center; padding: 10px 20px;
    border-bottom: 1px solid #333; gap: 16px;
  }
  .oai-topnav-logo {
    display: flex; align-items: center; gap: 8px;
    font-weight: 700; font-size: 15px; color: #fff;
  }
  .oai-topnav-logo svg { width: 24px; height: 24px; fill: #fff; }
  .oai-topnav-tabs { display: flex; gap: 2px; margin-left: 20px; }
  .oai-topnav-tab {
    padding: 6px 14px; border-radius: 6px; font-size: 13px;
    background: transparent; color: rgba(255,255,255,0.45); border: none;
    transition: var(--transition);
  }
  .oai-topnav-tab.active { color: #fff; background: rgba(255,255,255,0.1); }
  .oai-topnav-actions { margin-left: auto; display: flex; gap: 8px; align-items: center; }
  .oai-btn-save {
    padding: 6px 16px; border-radius: 6px; font-size: 13px; font-weight: 600;
    background: var(--openai-green); color: #fff; border: none;
    transition: var(--transition);
  }
  .oai-btn-save:hover { filter: brightness(1.1); }
  .oai-body { display: flex; flex: 1; overflow: hidden; }

  /* Left config panel */
  .oai-config {
    width: 420px; border-right: 1px solid #333;
    padding: 28px 24px; overflow-y: auto;
    display: flex; flex-direction: column; gap: 22px;
  }
  .oai-config-header { display: flex; align-items: center; gap: 14px; }
  .oai-config-avatar {
    width: 52px; height: 52px; border-radius: 50%;
    background: var(--openai-green); display: flex; align-items: center; justify-content: center;
    font-size: 22px; color: #fff; flex-shrink: 0;
  }
  .oai-config-name-group { flex: 1; }
  .oai-config-name {
    background: transparent; border: none; color: #fff;
    font-size: 20px; font-weight: 700; width: 100%; outline: none;
    border-bottom: 1px solid transparent; padding-bottom: 2px;
    transition: var(--transition);
  }
  .oai-config-name:focus { border-bottom-color: var(--openai-green); }
  .oai-config-name-hint { font-size: 11px; color: rgba(255,255,255,0.35); margin-top: 2px; }
  .oai-field { display: flex; flex-direction: column; gap: 6px; }
  .oai-field label { font-size: 13px; font-weight: 600; color: rgba(255,255,255,0.6); }
  .oai-field textarea, .oai-field input, .oai-field select {
    background: var(--openai-surface); border: 1px solid #444; border-radius: 8px;
    padding: 10px 14px; color: #ECECF1; font-size: 14px; outline: none;
    transition: var(--transition); resize: vertical;
  }
  .oai-field textarea { min-height: 100px; }
  .oai-field textarea:focus, .oai-field input:focus, .oai-field select:focus { border-color: var(--openai-green); }
  .oai-field select option { background: var(--openai-surface); }
  .oai-field .oai-hint { font-size: 11px; color: rgba(255,255,255,0.3); }
  .oai-tools-list { display: flex; flex-direction: column; gap: 6px; }
  .oai-tool-item {
    display: flex; align-items: center; justify-content: space-between;
    padding: 10px 14px; background: var(--openai-surface); border-radius: 8px;
    font-size: 13px;
  }
  .oai-tool-item span:first-child { display: flex; align-items: center; gap: 8px; }
  .oai-tool-icon { font-size: 16px; }
  .oai-toggle {
    position: relative; width: 36px; height: 20px; border-radius: 10px;
    background: #555; cursor: pointer; border: none; transition: var(--transition);
  }
  .oai-toggle.on { background: var(--openai-green); }
  .oai-toggle::after {
    content: ''; position: absolute; top: 2px; left: 2px;
    width: 16px; height: 16px; border-radius: 50%;
    background: #fff; transition: var(--transition);
  }
  .oai-toggle.on::after { left: 18px; }
  .oai-deploy-section {
    margin-top: 8px; padding-top: 22px; border-top: 1px solid #333;
    display: flex; flex-direction: column; gap: 10px;
  }
  .oai-deploy-label { font-size: 13px; font-weight: 600; color: rgba(255,255,255,0.6); }

  /* Right preview / test panel */
  .oai-preview {
    flex: 1; display: flex; flex-direction: column; background: var(--openai-sidebar);
  }
  .oai-preview-header {
    padding: 16px 24px; border-bottom: 1px solid #333;
    font-size: 14px; font-weight: 600; color: rgba(255,255,255,0.5);
    display: flex; align-items: center; gap: 8px;
  }
  .oai-preview-header .active-indicator {
    width: 8px; height: 8px; border-radius: 50%; background: var(--openai-green);
  }
  .oai-chat-area {
    flex: 1; display: flex; flex-direction: column; justify-content: center;
    align-items: center; padding: 40px; gap: 16px;
  }
  .oai-chat-logo {
    width: 48px; height: 48px; border-radius: 50%;
    background: var(--openai-green); display: flex; align-items: center; justify-content: center;
    font-size: 22px; color: #fff;
  }
  .oai-chat-greeting { font-size: 16px; font-weight: 600; color: rgba(255,255,255,0.7); text-align: center; }
  .oai-chat-sub { font-size: 13px; color: rgba(255,255,255,0.35); text-align: center; max-width: 320px; }
  .oai-chat-suggestions { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-top: 8px; }
  .oai-suggestion {
    padding: 8px 16px; border-radius: 20px; font-size: 12px;
    border: 1px solid #444; color: rgba(255,255,255,0.5); background: transparent;
    cursor: default; transition: var(--transition);
  }
  .oai-suggestion:hover { border-color: rgba(255,255,255,0.3); }
  .oai-chat-input-bar {
    padding: 16px 24px; border-top: 1px solid #333;
  }
  .oai-chat-input {
    width: 100%; background: var(--openai-surface); border: 1px solid #444;
    border-radius: 10px; padding: 12px 16px; color: #ECECF1; font-size: 14px;
    outline: none;
  }
  .oai-chat-input::placeholder { color: rgba(255,255,255,0.3); }

  /* ── Screen 3: OAuth (Slack-authentic install page) ── */
  #screen-oauth-parent, #screen-oauth-agent, #screen-oauth-combined {
    flex-direction: column; align-items: stretch; justify-content: flex-start;
    background: #fff; padding-bottom: 52px;
  }
  /* Top Slack logo bar */
  .oauth-slack-logo {
    padding: 20px 40px; border-bottom: 1px solid #e0e0e0;
    display: flex; align-items: center; gap: 10px;
  }
  .oauth-slack-logo svg { height: 32px; width: 32px; display: block; flex-shrink: 0; }
  .slack-wordmark {
    font-size: 28px; font-weight: 700; color: #1D1C1D;
    letter-spacing: -0.3px; line-height: 1; font-family: 'Lato', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }
  /* Main content area - two column */
  .oauth-page { display: flex; max-width: 820px; margin: 0 auto; padding: 20px 40px 40px; gap: 48px; width: 100%; }
  .oauth-page-left { flex: 1; min-width: 280px; }
  .oauth-page-right { flex: 1.1; min-width: 320px; }
  /* Left column */
  .oauth-app-icon {
    width: 56px; height: 56px; border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    font-size: 22px; font-weight: 800; color: #fff; flex-shrink: 0;
    margin-bottom: 16px;
  }
  .oauth-title { font-size: 24px; font-weight: 800; color: #1D1C1D; line-height: 1.3; margin-bottom: 16px; }
  .oauth-approved { display: flex; align-items: center; gap: 6px; font-size: 14px; color: #1D1C1D; margin-bottom: 12px; }
  .oauth-approved-icon { color: #007A5A; font-size: 18px; }
  .oauth-review-text { font-size: 14px; color: #616061; line-height: 1.6; margin-bottom: 24px; }
  .oauth-review-text a { color: #1264A3; text-decoration: none; }
  .oauth-review-text a:hover { text-decoration: underline; }
  .oauth-ws-label { font-size: 15px; font-weight: 700; color: #1D1C1D; margin-bottom: 8px; }
  .oauth-ws-select {
    display: flex; align-items: center; gap: 10px;
    padding: 8px 14px; border: 1px solid #DDDCE0; border-radius: 8px;
    font-size: 14px; color: #1D1C1D; background: #fff; cursor: default;
    width: fit-content;
  }
  .oauth-ws-icon {
    width: 24px; height: 24px; border-radius: 5px;
    background: var(--slack-aubergine); color: #fff;
    display: flex; align-items: center; justify-content: center;
    font-size: 12px; font-weight: 700; flex-shrink: 0;
  }
  .oauth-ws-select svg { width: 12px; height: 12px; opacity: 0.4; margin-left: 8px; }
  /* Right column - permissions */
  .oauth-perms-title { font-size: 16px; font-weight: 700; color: #1D1C1D; margin-bottom: 16px; }
  .oauth-perms-card { background: #F8F5F1; border-radius: 12px; padding: 20px; margin-bottom: 24px; }
  .oauth-perms-section { font-size: 13px; font-weight: 700; color: #616061; margin-bottom: 10px; }
  .oauth-perm-row {
    display: flex; align-items: center; gap: 12px;
    padding: 12px 0; border-bottom: 1px solid #EDE8E2; cursor: default;
  }
  .oauth-perm-row:last-child { border-bottom: none; }
  .oauth-perm-icon { width: 20px; height: 20px; color: #616061; flex-shrink: 0; font-size: 16px; opacity: 0.6; }
  .oauth-perm-label { flex: 1; font-size: 14px; color: #1D1C1D; line-height: 1.4; }
  .oauth-perm-arrow { color: #ABABAB; font-size: 12px; flex-shrink: 0; }
  /* Legal text */
  .oauth-legal { font-size: 12px; color: #616061; line-height: 1.7; max-width: 440px; }
  .oauth-legal a { color: #1264A3; text-decoration: none; }
  .oauth-legal a:hover { text-decoration: underline; }
  /* Action buttons */
  .oauth-actions { display: flex; gap: 12px; justify-content: flex-end; margin-top: 16px; }
  .oauth-allow {
    background: #007A5A; color: #fff; border: none;
    border-radius: 8px; padding: 10px 24px; font-size: 15px; font-weight: 700;
    transition: var(--transition); cursor: pointer;
  }
  .oauth-allow:hover { background: #006B4F; }
  .oauth-cancel {
    padding: 10px 20px; background: #fff; color: #1D1C1D;
    border: 1px solid #DDDCE0; border-radius: 8px; font-size: 15px; font-weight: 600;
    transition: var(--transition); cursor: pointer;
  }
  .oauth-cancel:hover { background: #F8F8F8; }

  /* Combined OAuth (Phase 2) - extra styles */
  .oauth-combined-apps { display: flex; flex-direction: column; gap: 12px; margin-bottom: 16px; }
  .oauth-combined-app-row {
    display: flex; align-items: center; gap: 12px;
    padding: 12px 16px; background: #F8F5F1; border-radius: 10px;
  }
  .oauth-combined-app-icon {
    width: 36px; height: 36px; border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 16px; font-weight: 700; color: #fff; flex-shrink: 0;
  }
  .oauth-combined-app-text h5 { font-size: 14px; font-weight: 700; color: #1D1C1D; }
  .oauth-combined-app-text p { font-size: 12px; color: #616061; }

  /* ── Screen 4: Loading ── */
  #screen-loading {
    flex-direction: column; align-items: stretch; justify-content: flex-start;
    background: #fff; padding-bottom: 52px; gap: 0;
  }
  .loading-page {
    display: flex; max-width: 820px; margin: 0 auto; padding: 48px 40px 40px; gap: 48px; width: 100%;
  }
  .loading-page-left { flex: 1; min-width: 280px; }
  .loading-page-right { flex: 1.1; min-width: 320px; }
  .loading-app-icon {
    width: 56px; height: 56px; border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    font-size: 22px; font-weight: 800; color: #fff; flex-shrink: 0;
    margin-bottom: 16px;
  }
  .loading-title { font-size: 24px; font-weight: 800; color: #1D1C1D; line-height: 1.3; margin-bottom: 16px; }
  .loading-subtitle { font-size: 14px; color: #616061; line-height: 1.6; margin-bottom: 24px; }
  .loading-ws-info {
    display: flex; align-items: center; gap: 10px;
    padding: 8px 14px; border: 1px solid #DDDCE0; border-radius: 8px;
    font-size: 14px; color: #1D1C1D; background: #fff; width: fit-content;
  }
  .loading-ws-info .oauth-ws-icon { width: 24px; height: 24px; border-radius: 5px; background: var(--slack-aubergine); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700; flex-shrink: 0; }
  .loading-progress-title { font-size: 16px; font-weight: 700; color: #1D1C1D; margin-bottom: 16px; }
  .loading-progress-card { background: #F8F5F1; border-radius: 12px; padding: 20px; margin-bottom: 24px; }
  .loading-spinner {
    width: 20px; height: 20px; border: 2.5px solid #E0E0E0;
    border-top-color: var(--slack-aubergine); border-radius: 50%;
    animation: spin 0.8s linear infinite; flex-shrink: 0;
  }
  @keyframes spin { to { transform: rotate(360deg); } }
  .loading-step {
    display: flex; align-items: center; gap: 12px;
    padding: 12px 0; border-bottom: 1px solid #EDE8E2;
    font-size: 14px; color: var(--slack-muted); transition: var(--transition);
  }
  .loading-step:last-child { border-bottom: none; }
  .loading-step.done { color: var(--slack-green); }
  .loading-step.done .loading-step-icon { color: var(--slack-green); font-size: 16px; }
  .loading-step.active { color: var(--slack-text); font-weight: 600; }
  .loading-step.active .loading-step-icon { display: none; }
  .loading-step.active::before { content: ''; display: block; width: 20px; height: 20px; border: 2.5px solid #E0E0E0; border-top-color: var(--slack-aubergine); border-radius: 50%; animation: spin 0.8s linear infinite; flex-shrink: 0; }
  .loading-step-icon { width: 20px; text-align: center; flex-shrink: 0; font-size: 14px; }
  .loading-status-text { font-size: 12px; color: #616061; line-height: 1.7; max-width: 440px; }

  /* ── Screen 5: Success / Slack UI ── */
  #screen-success {
    flex-direction: column; padding-bottom: 52px;
  }
  .slack-ui { display: flex; flex: 1; height: calc(100vh - 52px); }
  .slack-sidebar {
    width: 260px; background: var(--slack-sidebar-bg); color: #fff;
    display: flex; flex-direction: column; padding: 12px 0;
    overflow-y: auto;
  }
  .slack-sidebar-header {
    padding: 8px 16px 16px; display: flex; align-items: center; gap: 10px;
  }
  .slack-sidebar-ws {
    width: 28px; height: 28px; border-radius: 6px;
    background: var(--slack-aubergine-light); display: flex; align-items: center; justify-content: center;
    font-size: 14px; font-weight: 700;
  }
  .slack-sidebar-ws-name { font-size: 15px; font-weight: 700; }
  .slack-sidebar-section { padding: 8px 16px; }
  .slack-sidebar-section-title {
    font-size: 12px; font-weight: 600; color: rgba(255,255,255,0.5);
    margin-bottom: 4px; padding: 4px 0;
  }
  .slack-sidebar-link {
    padding: 4px 8px; border-radius: 6px; font-size: 14px;
    color: rgba(255,255,255,0.7); cursor: default; margin: 1px 0;
    display: flex; align-items: center; gap: 8px;
  }
  .slack-sidebar-link.active { background: var(--slack-sidebar-active); color: #fff; }
  .slack-sidebar-link .sidebar-icon {
    width: 20px; height: 20px; border-radius: 5px;
    display: flex; align-items: center; justify-content: center;
    font-size: 11px; flex-shrink: 0;
  }
  .slack-sidebar-link .sidebar-bot-icon {
    background: linear-gradient(135deg, var(--slack-blue), var(--slack-green));
    font-size: 10px; color: #fff; font-weight: 700;
  }
  .slack-sidebar-link .new-badge {
    margin-left: auto; font-size: 10px; font-weight: 700;
    background: var(--slack-red); color: #fff;
    padding: 1px 6px; border-radius: 8px;
  }
  .slack-main { flex: 1; display: flex; flex-direction: column; background: #fff; }
  .slack-main-header {
    padding: 14px 24px; border-bottom: 1px solid var(--border);
    display: flex; align-items: center; gap: 10px;
  }
  .slack-main-header-avatar {
    width: 28px; height: 28px; border-radius: 7px;
    background: linear-gradient(135deg, var(--slack-blue), var(--slack-green));
    display: flex; align-items: center; justify-content: center;
    font-size: 12px; color: #fff;
  }
  .slack-main-header-name { font-size: 16px; font-weight: 700; }
  .slack-main-header-badge {
    font-size: 11px; padding: 2px 8px; border-radius: 10px;
    background: #E8F5E9; color: #2E7D32; font-weight: 600;
  }
  .slack-messages {
    flex: 1; padding: 24px; overflow-y: auto;
    display: flex; flex-direction: column; gap: 20px;
  }
  .slack-msg { display: flex; gap: 12px; animation: msgIn 0.4s ease; }
  @keyframes msgIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  .slack-msg-avatar {
    width: 36px; height: 36px; border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-size: 14px; flex-shrink: 0; color: #fff; font-weight: 700;
  }
  .slack-msg-avatar.bot { background: linear-gradient(135deg, var(--slack-blue), var(--slack-green)); }
  .slack-msg-avatar.user { background: #6B7785; }
  .slack-msg-content { flex: 1; }
  .slack-msg-header { display: flex; align-items: baseline; gap: 8px; margin-bottom: 4px; }
  .slack-msg-name { font-size: 14px; font-weight: 700; }
  .slack-msg-app-badge {
    font-size: 10px; padding: 1px 5px; border-radius: 4px;
    background: #F0F0F0; color: var(--slack-muted); font-weight: 600;
  }
  .slack-msg-time { font-size: 11px; color: var(--slack-muted); }
  .slack-msg-text { font-size: 14px; line-height: 1.55; color: #222; }
  .slack-msg-text code { background: #F0F0F0; padding: 1px 4px; border-radius: 3px; font-size: 13px; }
  .slack-input-bar {
    padding: 12px 24px 20px; border-top: 1px solid var(--border);
  }
  .slack-input {
    width: 100%; border: 1px solid var(--border); border-radius: 8px;
    padding: 12px 16px; font-size: 14px; outline: none; color: var(--slack-muted);
  }

  /* Success overlay (toast) */
  .success-toast {
    position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
    background: var(--slack-green); color: #fff;
    padding: 12px 28px; border-radius: 10px; font-size: 14px; font-weight: 700;
    display: flex; align-items: center; gap: 8px;
    box-shadow: 0 4px 20px rgba(46,182,125,0.4);
    z-index: 200; animation: toastIn 0.5s ease, toastOut 0.3s ease 4s forwards;
  }
  @keyframes toastIn { from { opacity: 0; transform: translateX(-50%) translateY(-20px); } to { opacity: 1; transform: translateX(-50%) translateY(0); } }
  @keyframes toastOut { to { opacity: 0; transform: translateX(-50%) translateY(-20px); } }

  /* ── Footer annotation ── */
  .screen-annotation {
    position: fixed; bottom: 46px; left: 0; right: 0;
    background: rgba(0,0,0,0.75); color: #fff;
    padding: 10px 24px; font-size: 12px; text-align: center;
    z-index: 150; backdrop-filter: blur(8px);
    transition: bottom 0.3s ease;
  }
  body.bar-minimized .screen-annotation { bottom: 0; }
  body.bar-minimized .screen { padding-bottom: 0 !important; }
  .screen-annotation strong { color: var(--slack-yellow); }

  /* ── Responsive ── */
  @media (max-width: 768px) {
    .partner-grid { flex-direction: column; align-items: center; }
    .partner-card { width: 90vw; }
    .builder-sidebar, .builder-preview { display: none; }
    .oauth-card { width: 95vw; }
    .slack-sidebar { width: 200px; }
  }
</style>
</head>
<body>

<!-- ─── Top Bar ─── -->
<div class="topbar" id="demo-bar">
  <div class="topbar-left">
    <div class="topbar-logo">Add Agent to Slack<span>Interactive Demo</span></div>
    <div class="topbar-phase">
      <button class="active" data-phase="1" onclick="setPhase(1)">Phase 1</button>
      <button data-phase="2" onclick="setPhase(2)">Phase 2</button>
    </div>
  </div>
  <div class="topbar-right">
    <div class="step-indicator" id="step-dots"></div>
    <button class="topbar-restart" onclick="restart()">Restart Demo</button>
    <button class="topbar-minimize" onclick="toggleDemoBar()" title="Minimize">&#x25BC;</button>
  </div>
</div>
<button class="topbar-expand" id="demo-bar-expand" onclick="toggleDemoBar()" title="Show demo controls">
  <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
</button>

<!-- ─── Screen 1: Partner Selection ─── -->
<div class="screen active" id="screen-select">
  <div class="select-header">
    <h1>Add Agent to Slack</h1>
    <p>Choose a partner platform to experience the end-to-end flow.</p>
  </div>
  <div class="partner-grid">
    <div class="partner-card" onclick="selectPartner('vercel')">
      <div class="partner-icon vercel-bg">V</div>
      <h3>Vercel</h3>
      <p>Deploy AI agents with the v0 agent framework</p>
      <div class="tag">Tier 1 Launch Partner</div>
    </div>
    <div class="partner-card" onclick="selectPartner('lovable')">
      <div class="partner-icon lovable-bg">L</div>
      <h3>Lovable</h3>
      <p>Create full-stack AI agents with natural language</p>
      <div class="tag">Tier 1 Launch Partner</div>
    </div>
    <div class="partner-card" onclick="selectPartner('replit')">
      <div class="partner-icon replit-bg">R</div>
      <h3>Replit</h3>
      <p>Build and deploy agents with AI-powered coding</p>
      <div class="tag">Tier 1 Launch Partner</div>
    </div>
    <div class="partner-card" onclick="selectPartner('openai')">
      <div class="partner-icon openai-bg">
        <svg viewBox="0 0 24 24" width="28" height="28" fill="#fff"><path d="M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9 6.046 6.046 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.872zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08L8.704 5.46a.795.795 0 0 0-.393.681zm1.097-2.365l2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z"/></svg>
      </div>
      <h3>OpenAI</h3>
      <p>Build and deploy agents with the OpenAI Agent Builder</p>
      <div class="tag">Tier 1 Phase 2 Partner</div>
    </div>
  </div>
  <div class="screen-annotation">
    <strong>Step 1 of 5:</strong> The user starts on a partner platform where they've built an agent.
  </div>
</div>

<!-- ─── Screen 2a: REPLIT Agent Builder ─── -->
<div class="screen" id="screen-replit-builder">
  <div class="rep-chrome">
    <div class="rep-topbar">
      <div class="rep-topbar-logo">
        <svg viewBox="0 0 24 24" width="18" height="18" fill="var(--replit-orange)"><path d="M2 3.5A1.5 1.5 0 0 1 3.5 2h6A1.5 1.5 0 0 1 11 3.5v5A1.5 1.5 0 0 1 9.5 10h-6A1.5 1.5 0 0 1 2 8.5v-5zM13 3.5A1.5 1.5 0 0 1 14.5 2h6A1.5 1.5 0 0 1 22 3.5v5A1.5 1.5 0 0 1 20.5 10h-6A1.5 1.5 0 0 1 13 8.5v-5zM2 14.5A1.5 1.5 0 0 1 3.5 13h17A1.5 1.5 0 0 1 22 14.5v6A1.5 1.5 0 0 1 20.5 22h-17A1.5 1.5 0 0 1 2 20.5v-6z"/></svg>
        Replit
      </div>
      <div class="rep-topbar-project"><span>/</span>PolicyBot Agent<span>/</span>Deploy</div>
      <div class="rep-topbar-actions">
        <button class="rep-run-btn">
          <svg viewBox="0 0 16 16" fill="currentColor"><polygon points="4,2 14,8 4,14"/></svg>
          Run
        </button>
      </div>
    </div>
    <div class="rep-body">
      <!-- Icon rail -->
      <div class="rep-rail">
        <div class="rep-rail-icon">&#128196;</div>
        <div class="rep-rail-icon active">&#9881;</div>
        <div class="rep-rail-icon">&#128230;</div>
        <div class="rep-rail-icon">&#128274;</div>
        <div class="rep-rail-icon">&#9654;</div>
      </div>
      <!-- File tree -->
      <div class="rep-sidebar">
        <div class="rep-sidebar-title">Files</div>
        <div class="rep-file"><span class="rep-file-icon">&#128193;</span> src</div>
        <div class="rep-file rep-file-indent"><span class="rep-file-icon" style="color:#3B82F6;">&#9998;</span> agent.ts</div>
        <div class="rep-file rep-file-indent"><span class="rep-file-icon" style="color:#EAB308;">&#9998;</span> prompts.ts</div>
        <div class="rep-file rep-file-indent"><span class="rep-file-icon" style="color:#3B82F6;">&#9998;</span> tools.ts</div>
        <div class="rep-file"><span class="rep-file-icon" style="color:#22C55E;">&#9998;</span> .env</div>
        <div class="rep-file active"><span class="rep-file-icon" style="color:#A855F7;">&#9998;</span> agent.config.json</div>
        <div class="rep-file"><span class="rep-file-icon" style="color:#6B7280;">&#9998;</span> package.json</div>
        <div class="rep-sidebar-title" style="margin-top:12px;">Tools</div>
        <div class="rep-file"><span class="rep-file-icon">&#128274;</span> Secrets</div>
        <div class="rep-file"><span class="rep-file-icon">&#128230;</span> Packages</div>
        <div class="rep-file"><span class="rep-file-icon">&#128450;</span> Database</div>
      </div>
      <!-- Main config area -->
      <div class="rep-main">
        <div class="rep-tabs">
          <button class="rep-tab">agent.ts</button>
          <button class="rep-tab active">agent.config.json</button>
          <button class="rep-tab">Deploy</button>
        </div>
        <div class="rep-agent-config">
          <div class="rep-field">
            <label>Agent Name</label>
            <input type="text" id="rep-agent-name" value="PolicyBot" oninput="updateRepPreview()">
          </div>
          <div class="rep-field">
            <label>Description</label>
            <textarea id="rep-agent-desc" oninput="updateRepPreview()">Answers employee policy questions using the company handbook. Provides accurate, sourced responses about PTO, benefits, expenses, and workplace policies.</textarea>
          </div>
          <div class="rep-field">
            <label>Model</label>
            <select>
              <option>Claude 4 Sonnet</option>
              <option>GPT-4o</option>
              <option>Llama 3.1 405B</option>
            </select>
          </div>
          <div class="rep-field">
            <label>Slack Capabilities</label>
            <div class="rep-caps">
              <button class="rep-cap selected" onclick="this.classList.toggle('selected')">Chat / DM</button>
              <button class="rep-cap selected" onclick="this.classList.toggle('selected')">Mentions</button>
              <button class="rep-cap" onclick="this.classList.toggle('selected')">Slash Commands</button>
              <button class="rep-cap selected" onclick="this.classList.toggle('selected')">App Home</button>
            </div>
          </div>
          <button class="add-to-slack-btn" onclick="clickAddToSlack()" style="align-self:flex-start;">
            <svg viewBox="0 0 24 24" fill="none" style="width:20px;height:20px;"><path d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z" fill="currentColor"/></svg>
            Add Agent to Slack
          </button>
        </div>
        <!-- Console -->
        <div class="rep-console">
          <div class="rep-console-header">&#9654; Console</div>
          <div class="rep-console-line"><span class="prompt">~</span> npm run build</div>
          <div class="rep-console-line success">&#10003; Agent compiled successfully</div>
          <div class="rep-console-line success">&#10003; Configuration validated</div>
          <div class="rep-console-line"><span class="prompt">~</span> Ready to deploy <span style="opacity:0.5;">|</span></div>
        </div>
      </div>
      <!-- Preview pane -->
      <div class="rep-preview">
        <div class="rep-preview-bar">
          <div class="rep-preview-dots"><span></span><span></span><span></span></div>
          <div class="rep-preview-url">policybot-agent.replit.app</div>
        </div>
        <div class="rep-preview-content">
          <div class="rep-preview-avatar" id="rep-prev-avatar">P</div>
          <div class="rep-preview-name" id="rep-prev-name">PolicyBot</div>
          <div class="rep-preview-desc" id="rep-prev-desc">Answers employee policy questions using the company handbook.</div>
          <div class="rep-preview-status">Online</div>
        </div>
      </div>
    </div>
  </div>
  <div class="screen-annotation">
    <strong>Step 2 of 5:</strong> The developer has built their agent in Replit's IDE. They click <strong>Add Agent to Slack</strong> to deploy it.
  </div>
</div>

<!-- ─── Screen 2b: VERCEL v0 Agent Builder ─── -->
<div class="screen" id="screen-vercel-builder">
  <div class="v0-chrome">
    <div class="v0-topbar">
      <div class="v0-topbar-logo">v0</div>
      <div class="v0-topbar-nav">
        <button class="v0-topbar-link">Templates</button>
        <button class="v0-topbar-link active">Chat</button>
        <button class="v0-topbar-link">Projects</button>
      </div>
      <div class="v0-topbar-actions">
        <button class="v0-topbar-btn ghost">Docs</button>
        <button class="v0-topbar-btn">Publish</button>
      </div>
    </div>
    <div class="v0-body">
      <!-- Chat -->
      <div class="v0-chat">
        <div class="v0-chat-messages">
          <div class="v0-msg">
            <div class="v0-msg-avatar user">Y</div>
            <div class="v0-msg-content">
              <div class="v0-msg-name">You</div>
              <div class="v0-msg-text">Create an AI agent called PolicyBot that answers employee policy questions using the company handbook. It should support DMs, mentions, and have an App Home tab. Use GPT-4o.</div>
            </div>
          </div>
          <div class="v0-msg">
            <div class="v0-msg-avatar ai">v0</div>
            <div class="v0-msg-content">
              <div class="v0-msg-name">v0</div>
              <div class="v0-msg-text">I've created your <code>PolicyBot</code> agent with the following configuration:</div>
              <div class="v0-msg-artifact">
                <div class="v0-msg-artifact-header">&#128196; agent.config.ts</div>
                <div class="v0-msg-artifact-body">
<span class="kw">export default</span> {
  name: <span class="str">"PolicyBot"</span>,
  description: <span class="str">"Answers employee policy questions"</span>,
  model: <span class="str">"gpt-4o"</span>,
  capabilities: [<span class="str">"chat"</span>, <span class="str">"mentions"</span>, <span class="str">"app_home"</span>],
  knowledge: [<span class="str">"./handbook.pdf"</span>],
} <span class="cm">// ready to deploy</span>
                </div>
              </div>
              <div class="v0-msg-text" style="margin-top:12px;">The agent is ready. You can deploy it to Slack using the button in the preview panel.</div>
            </div>
          </div>
        </div>
        <div class="v0-chat-input-area">
          <textarea class="v0-chat-input" placeholder="Ask v0 a follow up..." readonly></textarea>
        </div>
      </div>
      <!-- Preview -->
      <div class="v0-preview">
        <div class="v0-preview-bar">
          <button class="v0-preview-tab active">Preview</button>
          <button class="v0-preview-tab">Code</button>
        </div>
        <div class="v0-preview-content">
          <div class="v0-agent-card">
            <div class="v0-agent-avatar" id="v0-prev-avatar">P</div>
            <div class="v0-agent-name" id="v0-prev-name">PolicyBot</div>
            <div class="v0-agent-desc" id="v0-prev-desc">Answers employee policy questions using the company handbook. Provides accurate, sourced responses about PTO, benefits, expenses, and workplace policies.</div>
            <div class="v0-agent-badges">
              <span class="v0-agent-badge">Chat / DM</span>
              <span class="v0-agent-badge">Mentions</span>
              <span class="v0-agent-badge">App Home</span>
              <span class="v0-agent-badge">GPT-4o</span>
            </div>
            <div class="v0-agent-deploy">
              <button class="add-to-slack-btn" onclick="clickAddToSlack()">
                <svg viewBox="0 0 24 24" fill="none" style="width:20px;height:20px;"><path d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z" fill="currentColor"/></svg>
                Add Agent to Slack
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="screen-annotation">
    <strong>Step 2 of 5:</strong> v0 has generated the agent from a natural language prompt. The user clicks <strong>Add Agent to Slack</strong> to deploy it.
  </div>
</div>

<!-- ─── Screen 2c: LOVABLE Agent Builder ─── -->
<div class="screen" id="screen-lovable-builder">
  <div class="lov-chrome">
    <div class="lov-topbar">
      <div class="lov-topbar-logo">
        <div class="lov-heart">&#9829;</div>
        Lovable
      </div>
      <div class="lov-topbar-project"><span>/</span> PolicyBot Agent</div>
      <div class="lov-topbar-actions">
        <button class="lov-topbar-btn">Share</button>
        <button class="lov-topbar-btn primary">Deploy</button>
      </div>
    </div>
    <div class="lov-body">
      <!-- Chat panel -->
      <div class="lov-chat">
        <div class="lov-chat-messages">
          <div class="lov-msg">
            <div class="lov-msg-avatar user">Y</div>
            <div class="lov-msg-content">
              <div class="lov-msg-name">You</div>
              <div class="lov-msg-text">Build me an AI agent called PolicyBot that helps employees find answers about company policies. It should be able to handle DMs, respond to mentions, and have a home tab. Connect it to the employee handbook PDF for knowledge.</div>
            </div>
          </div>
          <div class="lov-msg">
            <div class="lov-msg-avatar ai">&#9829;</div>
            <div class="lov-msg-content">
              <div class="lov-msg-name">Lovable</div>
              <div class="lov-msg-text">I've built your PolicyBot agent! Here's what I set up:</div>
              <div class="lov-msg-files">
                <div class="lov-msg-file"><span class="lov-msg-file-icon">&#10003;</span> Created agent configuration</div>
                <div class="lov-msg-file"><span class="lov-msg-file-icon">&#10003;</span> Connected employee_handbook.pdf</div>
                <div class="lov-msg-file"><span class="lov-msg-file-icon">&#10003;</span> Enabled Chat, Mentions, App Home</div>
                <div class="lov-msg-file"><span class="lov-msg-file-icon">&#10003;</span> Set model to GPT-4o</div>
              </div>
              <div class="lov-msg-text" style="margin-top:10px;">Your agent is ready to go! You can deploy it to Slack using the button in the preview. Want me to adjust anything first?</div>
            </div>
          </div>
        </div>
        <div class="lov-chat-input-area">
          <input class="lov-chat-input" placeholder="Ask Lovable to make changes..." readonly>
        </div>
      </div>
      <!-- Preview -->
      <div class="lov-preview">
        <div class="lov-preview-bar">
          <button class="lov-preview-tab active">Preview</button>
          <button class="lov-preview-tab">Code</button>
          <div class="lov-preview-url">lovable.app/preview/policybot</div>
        </div>
        <div class="lov-preview-content">
          <div class="lov-agent-card">
            <div class="lov-agent-avatar" id="lov-prev-avatar">P</div>
            <div class="lov-agent-name" id="lov-prev-name">PolicyBot</div>
            <div class="lov-agent-desc" id="lov-prev-desc">Answers employee policy questions using the company handbook. Provides accurate, sourced responses about PTO, benefits, expenses, and workplace policies.</div>
            <div class="lov-agent-badges">
              <span class="lov-agent-badge">Chat / DM</span>
              <span class="lov-agent-badge">Mentions</span>
              <span class="lov-agent-badge">App Home</span>
              <span class="lov-agent-badge">GPT-4o</span>
            </div>
            <div class="lov-agent-deploy">
              <button class="add-to-slack-btn" onclick="clickAddToSlack()">
                <svg viewBox="0 0 24 24" fill="none" style="width:20px;height:20px;"><path d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z" fill="currentColor"/></svg>
                Add Agent to Slack
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="screen-annotation">
    <strong>Step 2 of 5:</strong> Lovable built the agent from a natural language prompt. The user clicks <strong>Add Agent to Slack</strong> to deploy it.
  </div>
</div>

<!-- ─── Screen 2b: OpenAI Agent Builder ─── -->
<div class="screen" id="screen-openai-builder">
  <div class="oai-chrome">
    <div class="oai-topnav">
      <div class="oai-topnav-logo">
        <svg viewBox="0 0 24 24" width="22" height="22" fill="#fff"><path d="M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9 6.046 6.046 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.872zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08L8.704 5.46a.795.795 0 0 0-.393.681zm1.097-2.365l2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z"/></svg>
        OpenAI
      </div>
      <div class="oai-topnav-tabs">
        <button class="oai-topnav-tab">Playground</button>
        <button class="oai-topnav-tab">Assistants</button>
        <button class="oai-topnav-tab active">Agents</button>
        <button class="oai-topnav-tab">Fine-tuning</button>
        <button class="oai-topnav-tab">API keys</button>
      </div>
      <div class="oai-topnav-actions">
        <button class="oai-btn-save">Save</button>
      </div>
    </div>
    <div class="oai-body">
      <!-- Left: Config -->
      <div class="oai-config">
        <div class="oai-config-header">
          <div class="oai-config-avatar" id="oai-avatar">P</div>
          <div class="oai-config-name-group">
            <input class="oai-config-name" id="oai-agent-name" value="PolicyBot" oninput="updateOaiPreview()">
            <div class="oai-config-name-hint">Click to rename</div>
          </div>
        </div>

        <div class="oai-field">
          <label>Instructions</label>
          <textarea id="oai-instructions" oninput="updateOaiPreview()">You are PolicyBot, an employee policy assistant. Answer questions about PTO, benefits, expenses, and workplace policies using the company handbook. Always cite the relevant section.</textarea>
        </div>

        <div class="oai-field">
          <label>Model</label>
          <select>
            <option>gpt-4o</option>
            <option>gpt-4o-mini</option>
            <option>o3</option>
            <option>o4-mini</option>
          </select>
        </div>

        <div class="oai-field">
          <label>Tools</label>
          <div class="oai-tools-list">
            <div class="oai-tool-item">
              <span><span class="oai-tool-icon">&#128269;</span> File Search</span>
              <button class="oai-toggle on" onclick="this.classList.toggle('on')"></button>
            </div>
            <div class="oai-tool-item">
              <span><span class="oai-tool-icon">&#128187;</span> Code Interpreter</span>
              <button class="oai-toggle" onclick="this.classList.toggle('on')"></button>
            </div>
            <div class="oai-tool-item">
              <span><span class="oai-tool-icon">&#127760;</span> Web Search</span>
              <button class="oai-toggle on" onclick="this.classList.toggle('on')"></button>
            </div>
            <div class="oai-tool-item">
              <span><span class="oai-tool-icon">&#128232;</span> Handoffs</span>
              <button class="oai-toggle" onclick="this.classList.toggle('on')"></button>
            </div>
          </div>
        </div>

        <div class="oai-field">
          <label>Knowledge</label>
          <div class="oai-tool-item">
            <span><span class="oai-tool-icon">&#128196;</span> employee_handbook_2025.pdf</span>
            <span style="font-size:11px;color:rgba(255,255,255,0.35)">2.4 MB</span>
          </div>
        </div>

        <div class="oai-deploy-section">
          <div class="oai-deploy-label">Deploy</div>
          <button class="add-to-slack-btn" onclick="clickAddToSlack()" style="align-self:stretch;justify-content:center;">
            <svg viewBox="0 0 24 24" fill="none" style="width:22px;height:22px;">
              <path d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z" fill="currentColor"/>
            </svg>
            Add Agent to Slack
          </button>
        </div>
      </div>

      <!-- Right: Chat Preview -->
      <div class="oai-preview">
        <div class="oai-preview-header">
          <div class="active-indicator"></div>
          Preview
        </div>
        <div class="oai-chat-area">
          <div class="oai-chat-logo" id="oai-preview-logo">P</div>
          <div class="oai-chat-greeting" id="oai-preview-greeting">Hi, I'm PolicyBot</div>
          <div class="oai-chat-sub">Ask me anything about company policies, PTO, benefits, and more.</div>
          <div class="oai-chat-suggestions">
            <div class="oai-suggestion">How much PTO do I get?</div>
            <div class="oai-suggestion">Expense policy</div>
            <div class="oai-suggestion">Remote work rules</div>
          </div>
        </div>
        <div class="oai-chat-input-bar">
          <input class="oai-chat-input" placeholder="Test your agent..." readonly>
        </div>
      </div>
    </div>
  </div>
  <div class="screen-annotation">
    <strong>Step 2 of 5:</strong> The user has built their agent in OpenAI's Agent Builder. They click <strong>Add Agent to Slack</strong> to deploy it.
  </div>
</div>

<!-- ─── Screen 3a: OAuth — Parent App (Phase 1 only) ─── -->
<div class="screen" id="screen-oauth-parent">
  <div class="oauth-slack-logo">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 124 124" shape-rendering="geometricPrecision"><path d="M26.4 78.9a12.9 12.9 0 1 1-25.8 0 12.9 12.9 0 0 1 12.9-12.9h12.9v12.9z" fill="#E01E5A"/><path d="M32.8 78.9a12.9 12.9 0 1 1 25.8 0v32.3a12.9 12.9 0 1 1-25.8 0V78.9z" fill="#E01E5A"/><path d="M45.7 26.4a12.9 12.9 0 1 1 0-25.8 12.9 12.9 0 0 1 12.9 12.9v12.9H45.7z" fill="#36C5F0"/><path d="M45.7 32.8a12.9 12.9 0 1 1 0 25.8H13.4a12.9 12.9 0 0 1 0-25.8h32.3z" fill="#36C5F0"/><path d="M98.2 45.7a12.9 12.9 0 1 1 25.8 0 12.9 12.9 0 0 1-12.9 12.9H98.2V45.7z" fill="#2EB67D"/><path d="M91.8 45.7a12.9 12.9 0 0 1-25.8 0V13.4a12.9 12.9 0 1 1 25.8 0v32.3z" fill="#2EB67D"/><path d="M78.9 98.2a12.9 12.9 0 1 1 0 25.8 12.9 12.9 0 0 1-12.9-12.9V98.2h12.9z" fill="#ECB22E"/><path d="M78.9 91.8a12.9 12.9 0 1 1 0-25.8h32.3a12.9 12.9 0 0 1 0 25.8H78.9z" fill="#ECB22E"/></svg>
    <span class="slack-wordmark">slack</span>
  </div>
  <div class="oauth-page">
    <div class="oauth-page-left">
      <div class="oauth-app-icon" id="oauth-parent-icon" style="background:var(--replit-orange)">R</div>
      <div class="oauth-title">Allow the &ldquo;<span id="oauth-parent-name">Replit for Slack</span>&rdquo; app to access Slack</div>
      <div class="oauth-approved"><span class="oauth-approved-icon">&#9989;</span> App is approved by Slack</div>
      <div class="oauth-review-text" id="oauth-parent-by">Apps are reviewed for quality before they are listed in the Slack Marketplace. <a href="#">Learn more about app reviews.</a></div>
      <div class="oauth-ws-label">Workspace</div>
      <div class="oauth-ws-select">
        <div class="oauth-ws-icon">A</div>
        TH-Sd0A3TFLHVAN
        <svg viewBox="0 0 12 12" fill="currentColor"><path d="M6 8.5L1 3.5h10z"/></svg>
      </div>
    </div>
    <div class="oauth-page-right">
      <div class="oauth-perms-title">Review app permissions</div>
      <div class="oauth-perms-card">
        <div class="oauth-perms-section" id="oauth-parent-perm-view">Information &ldquo;<span class="perm-app-name">Replit for Slack</span>&rdquo; can view</div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#128172;</span><span class="oauth-perm-label">Content and info about channels &amp; conversations</span><span class="oauth-perm-arrow">&#9654;</span></div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#9638;</span><span class="oauth-perm-label">Content and info about your workspace</span><span class="oauth-perm-arrow">&#9654;</span></div>
        <div class="oauth-perms-section" style="margin-top:16px;" id="oauth-parent-perm-act">Actions &ldquo;<span class="perm-app-name">Replit for Slack</span>&rdquo; can take</div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#128172;</span><span class="oauth-perm-label">Create and manage Slack apps on your behalf</span><span class="oauth-perm-arrow">&#9654;</span></div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#9881;</span><span class="oauth-perm-label">Configure app settings and permissions</span><span class="oauth-perm-arrow">&#9654;</span></div>
      </div>
      <div class="oauth-legal">Slack will share your granted permissions with <span class="perm-app-name">Replit for Slack</span>. View Slack's <a href="#">privacy policy</a>. By agreeing to allow Slack to share your granted <a href="#">permissions</a>, you are also agreeing to <span class="perm-app-name">Replit</span>'s <a href="#">privacy agreement</a> and <a href="#">terms of service</a>.</div>
      <div class="oauth-actions">
        <button class="oauth-cancel" onclick="restart()">Cancel</button>
        <button class="oauth-allow" onclick="allowParent()">Allow</button>
      </div>
    </div>
  </div>
  <div class="screen-annotation">
    <strong>Step 3 of 5 (Phase 1):</strong> First-time only — the user installs the partner's <strong>parent Slack app</strong>. This app can create custom apps for each agent.
  </div>
</div>

<!-- ─── Screen 3b: OAuth — Combined (Phase 2) ─── -->
<div class="screen" id="screen-oauth-combined">
  <div class="oauth-slack-logo">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 124 124" shape-rendering="geometricPrecision"><path d="M26.4 78.9a12.9 12.9 0 1 1-25.8 0 12.9 12.9 0 0 1 12.9-12.9h12.9v12.9z" fill="#E01E5A"/><path d="M32.8 78.9a12.9 12.9 0 1 1 25.8 0v32.3a12.9 12.9 0 1 1-25.8 0V78.9z" fill="#E01E5A"/><path d="M45.7 26.4a12.9 12.9 0 1 1 0-25.8 12.9 12.9 0 0 1 12.9 12.9v12.9H45.7z" fill="#36C5F0"/><path d="M45.7 32.8a12.9 12.9 0 1 1 0 25.8H13.4a12.9 12.9 0 0 1 0-25.8h32.3z" fill="#36C5F0"/><path d="M98.2 45.7a12.9 12.9 0 1 1 25.8 0 12.9 12.9 0 0 1-12.9 12.9H98.2V45.7z" fill="#2EB67D"/><path d="M91.8 45.7a12.9 12.9 0 0 1-25.8 0V13.4a12.9 12.9 0 1 1 25.8 0v32.3z" fill="#2EB67D"/><path d="M78.9 98.2a12.9 12.9 0 1 1 0 25.8 12.9 12.9 0 0 1-12.9-12.9V98.2h12.9z" fill="#ECB22E"/><path d="M78.9 91.8a12.9 12.9 0 1 1 0-25.8h32.3a12.9 12.9 0 0 1 0 25.8H78.9z" fill="#ECB22E"/></svg>
    <span class="slack-wordmark">slack</span>
  </div>
  <div class="oauth-page">
    <div class="oauth-page-left">
      <div class="oauth-app-icon" id="oauth-combined-partner-icon" style="background:var(--replit-orange)">R</div>
      <div class="oauth-title">Allow the &ldquo;<span id="oauth-combined-partner-name">Replit for Slack</span>&rdquo; app to access Slack</div>
      <div class="oauth-approved"><span class="oauth-approved-icon">&#9989;</span> App is approved by Slack</div>
      <div class="oauth-review-text">This will also install <strong id="oauth-combined-agent-name">PolicyBot</strong>, a custom agent managed by this app.</div>
      <div class="oauth-ws-label">Workspace</div>
      <div class="oauth-ws-select">
        <div class="oauth-ws-icon">A</div>
        TH-Sd0A3TFLHVAN
        <svg viewBox="0 0 12 12" fill="currentColor"><path d="M6 8.5L1 3.5h10z"/></svg>
      </div>
      <div class="oauth-combined-apps" style="margin-top:20px;">
        <div class="oauth-combined-app-row">
          <div class="oauth-combined-app-icon" id="oauth-combined-icon-1" style="background:var(--replit-orange);">R</div>
          <div class="oauth-combined-app-text"><h5 id="oauth-combined-name-1">Replit for Slack</h5><p>Manages your agent integrations</p></div>
        </div>
        <div class="oauth-combined-app-row">
          <div class="oauth-combined-app-icon" id="oauth-combined-agent-icon" style="background:linear-gradient(135deg,var(--slack-blue),var(--slack-green));">P</div>
          <div class="oauth-combined-app-text"><h5 id="oauth-combined-name-2">PolicyBot</h5><p>Your custom agent app</p></div>
        </div>
      </div>
    </div>
    <div class="oauth-page-right">
      <div class="oauth-perms-title">Review app permissions</div>
      <div class="oauth-perms-card">
        <div class="oauth-perms-section">Information these apps can view</div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#128172;</span><span class="oauth-perm-label">Content and info about channels &amp; conversations</span><span class="oauth-perm-arrow">&#9654;</span></div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#9638;</span><span class="oauth-perm-label">Content and info about your workspace</span><span class="oauth-perm-arrow">&#9654;</span></div>
        <div class="oauth-perms-section" style="margin-top:16px;">Actions these apps can take</div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#128172;</span><span class="oauth-perm-label">Send and receive messages</span><span class="oauth-perm-arrow">&#9654;</span></div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#128101;</span><span class="oauth-perm-label">Respond to direct messages and mentions</span><span class="oauth-perm-arrow">&#9654;</span></div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#127968;</span><span class="oauth-perm-label">Display an App Home tab</span><span class="oauth-perm-arrow">&#9654;</span></div>
      </div>
      <div class="oauth-legal">Slack will share your granted permissions. View Slack's <a href="#">privacy policy</a>. By agreeing you are also agreeing to each app's <a href="#">privacy agreement</a> and <a href="#">terms of service</a>.</div>
      <div class="oauth-actions">
        <button class="oauth-cancel" onclick="restart()">Cancel</button>
        <button class="oauth-allow" onclick="allowCombined()">Allow</button>
      </div>
    </div>
  </div>
  <div class="screen-annotation">
    <strong>Step 3 of 4 (Phase 2):</strong> Single combined install — the partner app <strong>and</strong> the custom agent app are installed together. No double-install friction.
  </div>
</div>

<!-- ─── Screen 4: Loading ─── -->
<div class="screen" id="screen-loading">
  <div class="loading-page">
    <div class="loading-page-left">
      <div class="loading-app-icon" id="loading-partner-icon" style="background:var(--replit-orange)">R</div>
      <div class="loading-title">Creating &ldquo;<span id="loading-agent-name">PolicyBot</span>&rdquo; in Slack</div>
      <div class="loading-subtitle">The partner app is using Slack APIs to programmatically create and configure a custom agent app on your behalf.</div>
      <div class="loading-ws-info">
        <div class="oauth-ws-icon">A</div>
        Acme Corp
      </div>
    </div>
    <div class="loading-page-right">
      <div class="loading-progress-title">Setup progress</div>
      <div class="loading-progress-card">
        <div class="loading-steps" id="loading-steps">
          <div class="loading-step active" data-step="0">
            <div class="loading-step-icon">&#9675;</div>
            <span>Creating Slack app via manifest...</span>
          </div>
          <div class="loading-step" data-step="1">
            <div class="loading-step-icon">&#9675;</div>
            <span>Configuring permissions &amp; scopes...</span>
          </div>
          <div class="loading-step" data-step="2">
            <div class="loading-step-icon">&#9675;</div>
            <span>Setting up agent icon &amp; profile...</span>
          </div>
          <div class="loading-step" data-step="3">
            <div class="loading-step-icon">&#9675;</div>
            <span>Linking to parent app...</span>
          </div>
        </div>
      </div>
      <div class="loading-status-text">This usually takes just a few seconds. The app manifest APIs handle everything automatically.</div>
    </div>
  </div>
  <div class="screen-annotation" id="loading-annotation">
    <strong>Step 4 of 5:</strong> Behind the scenes — the partner app uses <strong>app manifest APIs</strong> to programmatically create a custom Slack app for this agent.
  </div>
</div>

<!-- ─── Screen 5a: OAuth — Agent App (Phase 1 only) ─── -->
<div class="screen" id="screen-oauth-agent">
  <div class="oauth-slack-logo">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 124 124" shape-rendering="geometricPrecision"><path d="M26.4 78.9a12.9 12.9 0 1 1-25.8 0 12.9 12.9 0 0 1 12.9-12.9h12.9v12.9z" fill="#E01E5A"/><path d="M32.8 78.9a12.9 12.9 0 1 1 25.8 0v32.3a12.9 12.9 0 1 1-25.8 0V78.9z" fill="#E01E5A"/><path d="M45.7 26.4a12.9 12.9 0 1 1 0-25.8 12.9 12.9 0 0 1 12.9 12.9v12.9H45.7z" fill="#36C5F0"/><path d="M45.7 32.8a12.9 12.9 0 1 1 0 25.8H13.4a12.9 12.9 0 0 1 0-25.8h32.3z" fill="#36C5F0"/><path d="M98.2 45.7a12.9 12.9 0 1 1 25.8 0 12.9 12.9 0 0 1-12.9 12.9H98.2V45.7z" fill="#2EB67D"/><path d="M91.8 45.7a12.9 12.9 0 0 1-25.8 0V13.4a12.9 12.9 0 1 1 25.8 0v32.3z" fill="#2EB67D"/><path d="M78.9 98.2a12.9 12.9 0 1 1 0 25.8 12.9 12.9 0 0 1-12.9-12.9V98.2h12.9z" fill="#ECB22E"/><path d="M78.9 91.8a12.9 12.9 0 1 1 0-25.8h32.3a12.9 12.9 0 0 1 0 25.8H78.9z" fill="#ECB22E"/></svg>
    <span class="slack-wordmark">slack</span>
  </div>
  <div class="oauth-page">
    <div class="oauth-page-left">
      <div class="oauth-app-icon" id="oauth-agent-icon" style="background: linear-gradient(135deg, var(--slack-blue), var(--slack-green));">P</div>
      <div class="oauth-title">Allow the &ldquo;<span id="oauth-agent-name">PolicyBot</span>&rdquo; app to access Slack</div>
      <div class="oauth-approved"><span class="oauth-approved-icon">&#9989;</span> App is approved by Slack</div>
      <div class="oauth-review-text" id="oauth-agent-by">Managed agent by Replit, Inc. This agent was created on your behalf.</div>
      <div class="oauth-ws-label">Workspace</div>
      <div class="oauth-ws-select">
        <div class="oauth-ws-icon">A</div>
        TH-Sd0A3TFLHVAN
        <svg viewBox="0 0 12 12" fill="currentColor"><path d="M6 8.5L1 3.5h10z"/></svg>
      </div>
    </div>
    <div class="oauth-page-right">
      <div class="oauth-perms-title">Review app permissions</div>
      <div class="oauth-perms-card">
        <div class="oauth-perms-section" id="oauth-agent-perm-view">Information &ldquo;<span class="perm-app-name">PolicyBot</span>&rdquo; can view</div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#128172;</span><span class="oauth-perm-label">Content and info about channels &amp; conversations</span><span class="oauth-perm-arrow">&#9654;</span></div>
        <div class="oauth-perms-section" style="margin-top:16px;" id="oauth-agent-perm-act">Actions &ldquo;<span class="perm-app-name">PolicyBot</span>&rdquo; can take</div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#128172;</span><span class="oauth-perm-label">Send and receive messages</span><span class="oauth-perm-arrow">&#9654;</span></div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#128101;</span><span class="oauth-perm-label">Respond to direct messages and mentions</span><span class="oauth-perm-arrow">&#9654;</span></div>
        <div class="oauth-perm-row"><span class="oauth-perm-icon">&#127968;</span><span class="oauth-perm-label">Display an App Home tab</span><span class="oauth-perm-arrow">&#9654;</span></div>
      </div>
      <div class="oauth-legal">Slack will share your granted permissions with <span class="perm-app-name">PolicyBot</span>. View Slack's <a href="#">privacy policy</a>. By agreeing you are also agreeing to the app's <a href="#">privacy agreement</a> and <a href="#">terms of service</a>.</div>
      <div class="oauth-actions">
        <button class="oauth-cancel" onclick="restart()">Cancel</button>
        <button class="oauth-allow" onclick="allowAgent()">Allow</button>
      </div>
    </div>
  </div>
  <div class="screen-annotation">
    <strong>Step 5 of 5 (Phase 1):</strong> The user installs the <strong>custom agent app</strong> that was just created. This is the agent's dedicated Slack identity.
  </div>
</div>

<!-- ─── Screen 6: Success (Slack UI) ─── -->
<div class="screen" id="screen-success">
  <div class="success-toast" id="success-toast">
    &#10003; <span id="toast-text">PolicyBot has been added to Slack!</span>
  </div>
  <div class="slack-ui">
    <div class="slack-sidebar">
      <div class="slack-sidebar-header">
        <div class="slack-sidebar-ws">A</div>
        <div class="slack-sidebar-ws-name">Acme Corp</div>
      </div>
      <div class="slack-sidebar-section">
        <div class="slack-sidebar-section-title">Channels</div>
        <div class="slack-sidebar-link"><span style="opacity:0.5">#</span> general</div>
        <div class="slack-sidebar-link"><span style="opacity:0.5">#</span> engineering</div>
        <div class="slack-sidebar-link"><span style="opacity:0.5">#</span> random</div>
      </div>
      <div class="slack-sidebar-section">
        <div class="slack-sidebar-section-title">Direct Messages</div>
        <div class="slack-sidebar-link"><span class="sidebar-icon" style="background:#6B7785;color:#fff;border-radius:4px;font-size:9px;">JM</span> Josh Milas</div>
        <div class="slack-sidebar-link"><span class="sidebar-icon" style="background:#8B6B4A;color:#fff;border-radius:4px;font-size:9px;">SK</span> Sarah Kim</div>
      </div>
      <div class="slack-sidebar-section">
        <div class="slack-sidebar-section-title">Apps</div>
        <div class="slack-sidebar-link"><span class="sidebar-icon" style="background:#611f69;color:#fff;border-radius:4px;font-size:9px;">S</span> Slackbot</div>
        <div class="slack-sidebar-link active" id="sidebar-agent-link">
          <span class="sidebar-icon sidebar-bot-icon" id="sidebar-agent-icon">P</span>
          <span id="sidebar-agent-name">PolicyBot</span>
          <span class="new-badge">NEW</span>
        </div>
      </div>
    </div>
    <div class="slack-main">
      <div class="slack-main-header">
        <div class="slack-main-header-avatar" id="main-header-avatar">P</div>
        <div class="slack-main-header-name" id="main-header-name">PolicyBot</div>
        <div class="slack-main-header-badge">Agent</div>
      </div>
      <div class="slack-messages" id="slack-messages"></div>
      <div class="slack-input-bar">
        <input class="slack-input" id="slack-input" placeholder="Message PolicyBot..." readonly>
      </div>
    </div>
  </div>
  <div class="screen-annotation" id="success-annotation">
    <strong>Done!</strong> The agent is live in Slack with its own identity, managed by the partner platform. Users can DM it, mention it, and interact naturally.
  </div>
</div>

<script>
// ─── State ───
let currentPhase = 1;
let currentScreen = 0;
let selectedPartner = null;
let agentName = 'PolicyBot';
let barMinimized = false;

// ─── Demo bar toggle ───
function toggleDemoBar() {
  barMinimized = !barMinimized;
  document.getElementById('demo-bar').classList.toggle('minimized', barMinimized);
  document.getElementById('demo-bar-expand').classList.toggle('visible', barMinimized);
  document.body.classList.toggle('bar-minimized', barMinimized);
}

const partners = {
  replit: {
    name: 'Replit',
    letter: 'R',
    color: 'var(--replit-orange)',
    slackAppName: 'Replit for Slack',
    byLine: 'by Replit, Inc.',
    builderScreen: 'screen-replit-builder',
    nameInput: 'rep-agent-name',
    iconSvg: false,
  },
  vercel: {
    name: 'Vercel',
    letter: 'V',
    color: 'var(--vercel-black)',
    slackAppName: 'Vercel for Slack',
    byLine: 'by Vercel, Inc.',
    builderScreen: 'screen-vercel-builder',
    nameInput: null, // name is set in the chat, not editable
    iconSvg: false,
  },
  lovable: {
    name: 'Lovable',
    letter: 'L',
    color: 'var(--lovable-pink)',
    slackAppName: 'Lovable for Slack',
    byLine: 'by Lovable, Inc.',
    builderScreen: 'screen-lovable-builder',
    nameInput: null,
    iconSvg: false,
  },
  openai: {
    name: 'OpenAI',
    letter: 'O',
    color: 'var(--openai-dark)',
    slackAppName: 'OpenAI Agents for Slack',
    byLine: 'by OpenAI',
    builderScreen: 'screen-openai-builder',
    nameInput: 'oai-agent-name',
    iconSvg: true,
  },
};

function getScreens() {
  const builderScreen = (selectedPartner && selectedPartner.builderScreen) || 'screen-replit-builder';
  if (currentPhase === 1) {
    return ['screen-select', builderScreen, 'screen-oauth-parent', 'screen-loading', 'screen-oauth-agent', 'screen-success'];
  } else {
    return ['screen-select', builderScreen, 'screen-oauth-combined', 'screen-loading', 'screen-success'];
  }
}

// ─── Phase toggle ───
function setPhase(p) {
  currentPhase = p;
  document.querySelectorAll('.topbar-phase button').forEach(b => {
    b.classList.toggle('active', parseInt(b.dataset.phase) === p);
  });
  restart();
}

// ─── Navigation ───
function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  currentScreen = getScreens().indexOf(id);
  updateDots();
}

function updateDots() {
  const screens = getScreens();
  const dotsEl = document.getElementById('step-dots');
  dotsEl.innerHTML = '';
  screens.forEach((_, i) => {
    const dot = document.createElement('div');
    dot.className = 'step-dot';
    if (i < currentScreen) dot.classList.add('completed');
    if (i === currentScreen) dot.classList.add('current');
    dotsEl.appendChild(dot);
  });
}

function restart() {
  currentScreen = 0;
  selectedPartner = null;
  showScreen('screen-select');
  // Reset loading steps
  document.querySelectorAll('#loading-steps .loading-step').forEach((s, i) => {
    s.className = 'loading-step' + (i === 0 ? ' active' : '');
    s.querySelector('.loading-step-icon').innerHTML = '&#9675;';
  });
  // Clear messages
  document.getElementById('slack-messages').innerHTML = '';
}

// ─── Screen 1: Partner Selection ───
function selectPartner(key) {
  selectedPartner = partners[key];
  // Read agent name from the partner's name input, or default to PolicyBot
  if (selectedPartner.nameInput) {
    agentName = document.getElementById(selectedPartner.nameInput).value || 'PolicyBot';
  } else {
    agentName = 'PolicyBot';
  }
  showScreen(selectedPartner.builderScreen);
}

// ─── Replit builder preview ───
function updateRepPreview() {
  const name = document.getElementById('rep-agent-name').value || 'My Agent';
  const desc = document.getElementById('rep-agent-desc').value || '';
  agentName = name;
  document.getElementById('rep-prev-avatar').textContent = name.charAt(0).toUpperCase();
  document.getElementById('rep-prev-name').textContent = name;
  document.getElementById('rep-prev-desc').textContent = desc.substring(0, 120) + (desc.length > 120 ? '...' : '');
}

// ─── OpenAI builder preview ───
function updateOaiPreview() {
  const name = document.getElementById('oai-agent-name').value || 'My Agent';
  agentName = name;
  document.getElementById('oai-avatar').textContent = name.charAt(0).toUpperCase();
  document.getElementById('oai-preview-logo').textContent = name.charAt(0).toUpperCase();
  document.getElementById('oai-preview-greeting').textContent = 'Hi, I\u2019m ' + name;
}

function clickAddToSlack() {
  // Read agent name from the active partner's input
  if (selectedPartner && selectedPartner.nameInput) {
    agentName = document.getElementById(selectedPartner.nameInput).value || 'PolicyBot';
  } else {
    agentName = 'PolicyBot'; // Vercel/Lovable use pre-set name from chat
  }

  if (currentPhase === 1) {
    // Show parent OAuth
    updateOAuthParent();
    showScreen('screen-oauth-parent');
  } else {
    // Show combined OAuth
    updateOAuthCombined();
    showScreen('screen-oauth-combined');
  }
}

const openaiSvgSmall = '<svg viewBox="0 0 24 24" width="22" height="22" fill="#fff"><path d="M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9 6.046 6.046 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.872zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08L8.704 5.46a.795.795 0 0 0-.393.681zm1.097-2.365l2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z"/></svg>';

function setPartnerIcon(el) {
  if (selectedPartner.iconSvg) {
    el.innerHTML = openaiSvgSmall;
    el.style.background = selectedPartner.color;
  } else {
    el.textContent = selectedPartner.letter;
    el.style.background = selectedPartner.color;
  }
}

// ─── Screen 3a: OAuth Parent (Phase 1) ───
function updateOAuthParent() {
  setPartnerIcon(document.getElementById('oauth-parent-icon'));
  document.getElementById('oauth-parent-name').textContent = selectedPartner.slackAppName;
  // Update perm-app-name spans within the parent screen
  const parentScreen = document.getElementById('screen-oauth-parent');
  parentScreen.querySelectorAll('.perm-app-name').forEach(el => {
    el.textContent = selectedPartner.slackAppName;
  });
  // Update permission section headers
  document.getElementById('oauth-parent-perm-view').innerHTML = 'Information &ldquo;<span class="perm-app-name">' + selectedPartner.slackAppName + '</span>&rdquo; can view';
  document.getElementById('oauth-parent-perm-act').innerHTML = 'Actions &ldquo;<span class="perm-app-name">' + selectedPartner.slackAppName + '</span>&rdquo; can take';
  // Update legal text
  const legalEl = parentScreen.querySelector('.oauth-legal');
  legalEl.innerHTML = 'Slack will share your granted permissions with <span class="perm-app-name">' + selectedPartner.slackAppName + '</span>. View Slack\'s <a href="#">privacy policy</a>. By agreeing to allow Slack to share your granted <a href="#">permissions</a>, you are also agreeing to <span class="perm-app-name">' + selectedPartner.name + '</span>\'s <a href="#">privacy agreement</a> and <a href="#">terms of service</a>.';
}

function allowParent() {
  showScreen('screen-loading');
  runLoading(() => {
    updateOAuthAgent();
    showScreen('screen-oauth-agent');
  });
}

// ─── Screen 3b: OAuth Combined (Phase 2) ───
function updateOAuthCombined() {
  setPartnerIcon(document.getElementById('oauth-combined-partner-icon'));
  document.getElementById('oauth-combined-partner-name').textContent = selectedPartner.slackAppName;
  document.getElementById('oauth-combined-agent-name').textContent = agentName;
  // Update the two app rows on the left
  setPartnerIcon(document.getElementById('oauth-combined-icon-1'));
  document.getElementById('oauth-combined-name-1').textContent = selectedPartner.slackAppName;
  const aIcon = document.getElementById('oauth-combined-agent-icon');
  aIcon.textContent = agentName.charAt(0).toUpperCase();
  document.getElementById('oauth-combined-name-2').textContent = agentName;
}

function allowCombined() {
  showScreen('screen-loading');
  updateLoadingAnnotation(true);
  runLoading(() => {
    showSuccessScreen();
  });
}

// ─── Screen 4: Loading ───
function updateLoadingAnnotation(isCombined) {
  const el = document.getElementById('loading-annotation');
  const screens = getScreens();
  const stepNum = screens.indexOf('screen-loading') + 1;
  const totalSteps = screens.length;
  if (isCombined) {
    el.innerHTML = `<strong>Step ${stepNum} of ${totalSteps}:</strong> Behind the scenes \u2014 the partner app uses <strong>app manifest APIs</strong> to programmatically create and install the custom Slack app.`;
  } else {
    el.innerHTML = `<strong>Step ${stepNum} of ${totalSteps}:</strong> Behind the scenes \u2014 the partner app uses <strong>app manifest APIs</strong> to programmatically create a custom Slack app for this agent.`;
  }
}

function runLoading(callback) {
  document.getElementById('loading-agent-name').textContent = agentName;
  setPartnerIcon(document.getElementById('loading-partner-icon'));
  const steps = document.querySelectorAll('#loading-steps .loading-step');
  let i = 0;

  function next() {
    if (i > 0) {
      steps[i - 1].classList.remove('active');
      steps[i - 1].classList.add('done');
      steps[i - 1].querySelector('.loading-step-icon').innerHTML = '&#10003;';
    }
    if (i < steps.length) {
      steps[i].classList.add('active');
      i++;
      setTimeout(next, 700 + Math.random() * 400);
    } else {
      setTimeout(callback, 500);
    }
  }
  next();
}

// ─── Screen 5a: OAuth Agent (Phase 1) ───
function updateOAuthAgent() {
  const icon = document.getElementById('oauth-agent-icon');
  icon.textContent = agentName.charAt(0).toUpperCase();
  document.getElementById('oauth-agent-name').textContent = agentName;
  document.getElementById('oauth-agent-by').textContent = 'Managed agent ' + selectedPartner.byLine + '. This agent was created on your behalf.';
  // Update perm-app-name spans within the agent screen
  const agentScreen = document.getElementById('screen-oauth-agent');
  document.getElementById('oauth-agent-perm-view').innerHTML = 'Information &ldquo;<span class="perm-app-name">' + agentName + '</span>&rdquo; can view';
  document.getElementById('oauth-agent-perm-act').innerHTML = 'Actions &ldquo;<span class="perm-app-name">' + agentName + '</span>&rdquo; can take';
  // Update legal text
  const legalEl = agentScreen.querySelector('.oauth-legal');
  legalEl.innerHTML = 'Slack will share your granted permissions with <span class="perm-app-name">' + agentName + '</span>. View Slack\'s <a href="#">privacy policy</a>. By agreeing you are also agreeing to the app\'s <a href="#">privacy agreement</a> and <a href="#">terms of service</a>.';
}

function allowAgent() {
  showSuccessScreen();
}

// ─── Screen 6: Success ───
function showSuccessScreen() {
  // Update Slack UI with agent details
  const initial = agentName.charAt(0).toUpperCase();
  document.getElementById('sidebar-agent-icon').textContent = initial;
  document.getElementById('sidebar-agent-name').textContent = agentName;
  document.getElementById('main-header-avatar').textContent = initial;
  document.getElementById('main-header-name').textContent = agentName;
  document.getElementById('toast-text').textContent = agentName + ' has been added to Slack!';
  document.getElementById('slack-input').placeholder = 'Message ' + agentName + '...';

  showScreen('screen-success');

  // Simulate a conversation
  const msgs = document.getElementById('slack-messages');
  msgs.innerHTML = '';

  const conversation = [
    { type: 'system', text: `<strong>${agentName}</strong> was added to Acme Corp by ${selectedPartner.name}. Say hello!`, delay: 600 },
    { type: 'bot', name: agentName, text: `Hi there! I'm ${agentName}, your AI-powered assistant. I can help answer questions about company policies, PTO, benefits, expenses, and more. Just ask me anything!`, delay: 1800 },
    { type: 'user', name: 'You', text: 'How many PTO days do new employees get?', delay: 3800 },
    { type: 'bot', name: agentName, text: 'New full-time employees at Acme Corp receive <strong>15 days of PTO</strong> per year, starting from their first day. This increases to 20 days after 3 years and 25 days after 5 years. PTO accrues monthly and unused days roll over up to a maximum of 5 days. \n\n<em>Source: Employee Handbook, Section 4.2 \u2014 Time Off Policy</em>', delay: 5800 },
  ];

  conversation.forEach(msg => {
    setTimeout(() => addMessage(msg), msg.delay);
  });

  // Update annotation for phase
  const el = document.getElementById('success-annotation');
  const screens = getScreens();
  el.innerHTML = `<strong>Done!</strong> The agent is live in Slack with its own identity, managed by ${selectedPartner.name}. Users can DM it, mention it, and interact naturally.`;
}

function addMessage(msg) {
  const container = document.getElementById('slack-messages');
  const el = document.createElement('div');

  if (msg.type === 'system') {
    el.style.cssText = 'text-align:center;font-size:13px;color:var(--slack-muted);padding:8px 0;';
    el.innerHTML = msg.text;
  } else {
    el.className = 'slack-msg';
    const initial = msg.name.charAt(0).toUpperCase();
    const avatarClass = msg.type === 'bot' ? 'bot' : 'user';
    const appBadge = msg.type === 'bot' ? '<span class="slack-msg-app-badge">APP</span>' : '';
    const time = new Date().toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });

    el.innerHTML = `
      <div class="slack-msg-avatar ${avatarClass}">${initial}</div>
      <div class="slack-msg-content">
        <div class="slack-msg-header">
          <span class="slack-msg-name">${msg.name}</span>
          ${appBadge}
          <span class="slack-msg-time">${time}</span>
        </div>
        <div class="slack-msg-text">${msg.text.replace(/\n/g, '<br>')}</div>
      </div>
    `;
  }

  container.appendChild(el);
  container.scrollTop = container.scrollHeight;
}

// ─── Init ───
updateDots();
</script>
</body>
</html>
